import { test, expect } from '@playwright/test';

test('User registration', async ({ page }) => {
  // Step 1: navigate to the webpage
  await page.goto('https://www.demoblaze.com/');

  // Step 2: click on "Sign up" 
  await page.click('#signin2');

  // Step 3: fill in registration
  await page.fill('#sign-username', 'testuser001');
  await page.fill('#sign-password', 'Password001');

  // Step 4: submit form
  await page.click('button:has-text("Sign up")');

  //  alert dialog
  page.on('dialog', async dialog => {
    expect(dialog.message()).toContain('Sign up successful.');
    await dialog.accept();
  });

  // adding sleeping time to ensure the dialog is handled
  await page.waitForTimeout(2000);
});
